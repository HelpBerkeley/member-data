Workflow Messages to Driver Topic Requirements
DocVersion: V1.4 
Last Updated: 8/5/2024
Author: Kaelan Thouati, Cameron Thouati


Support the ability to forward all messages generated by a request to the “Request driver messages” or “Request OneKitchen driver messages” topics to a topic specified manually by dispatchers. Currently, dispatchers must manually copy all generated messages to the drivers’ delivery topic, and this can lead to user error where not all messages are copied. The new functionality will automate this process with the addition of an optional target topic URL to forward all messages to. In this case, all messages will go directly to the target topic and they will not be posted to “Get driver messages.”


It is expected that dispatchers will first request driver messages one or more times, without the target topic URL option, in order to proofread them in the private HushWorkflow category. Then when satisfied, request them again with the target topic URL option for them to be automatically posted to a topic visible to the drivers.




1. Process new driver message request syntax to support posting the messages to a non-default topic.


        REQ-WMD-001-1 Support new request syntax type
        
Support use of new optional syntax which includes a target topic identifier (topic URL).


REQ-WMD-001-2 Post driver messages to the target topic


Post all generated driver messages to the target topic.


REQ-WMD-001-3 Audit target thread topic URL


Audit target topic URL to ensure that it is found in the Driver->Deliveries subcategory. 


REQ-WMD-001-4 Change post ownership


When posting in the optional target topic, change ownership of the driver messages to the requester. 


                REQ-WMD-001-5 Status reporting


Send a status message to the request topic indicating success or failure. Upon success, the status message should include a descriptive message including where the messages were posted and under whose username.


REQ-WMD-001-6 Error reporting


Upon failure, errors detected should report a descriptive message and line numbers where applicable.